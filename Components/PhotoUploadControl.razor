<MudCard>
    <MudCardHeader>

            <CardHeaderContent>
                <MudText>
                    PhotoUpload
                </MudText>
            </CardHeaderContent>
            <CardHeaderActions>
                @if (!HideControl)
                {
                    <MudButton StartIcon="@Icons.Filled.ArrowUpward" OnClick="ToggleHideControl">
                        Hide
                    </MudButton>
                }
                else
                {
                    <MudButton StartIcon="@Icons.Filled.ArrowDownward" OnClick="ToggleHideControl">
                        Show
                    </MudButton>
                }
      
            </CardHeaderActions>


    </MudCardHeader>
    <MudCardContent>
        <MudStack>
            @if(!HideControl)
            {
                <MudStack Row=true>
                    <MudFileUpload T="IBrowserFile" OnFilesChanged="AddFileToUploadList">
                        <ButtonTemplate>
                            <MudButton HtmlTag="label"
                                   Variant="Variant.Filled"
                                   Color="Color.Primary"
                                   StartIcon="@Icons.Material.Filled.AddAPhoto"
                                   for="@context">
                                Add Single Photo
                            </MudButton>
                        </ButtonTemplate>
                    </MudFileUpload>

                    <MudFileUpload T="IReadOnlyList<IBrowserFile>" OnFilesChanged="AddFilesToUploadList">
                        <ButtonTemplate>
                            <MudButton HtmlTag="label"
                                   Variant="Variant.Filled"
                                   Color="Color.Primary"
                                   StartIcon="@Icons.Material.Filled.List"
                                   for="@context">
                                Add Multiple Photos
                            </MudButton>
                        </ButtonTemplate>
                    </MudFileUpload>
                </MudStack>
                <MudDivider />
                <MudPaper>
                    @if (Files != null)
                    {
                        <MudText Typo="@Typo.h6">@Files.Count() File@(Files.Count() == 1 ? "" : "s"):</MudText>
                        <MudList>
                            @foreach (var file in Files)
                            {
                                <MudListItem Icon="@Icons.Material.Filled.AttachFile" @key="@file">
                                    @file.Name <code>@file.Size bytes</code>
                                </MudListItem>
                            }
                        </MudList>
                    }
                </MudPaper>
                <MudCardActions>
                    <MudButton Variant="Variant.Filled" 
                               StartIcon="@Icons.Filled.Upload" 
                               OnClick="Upload"
                               Color="Color.Success">Upload Selected</MudButton>
                    <MudButton Variant="Variant.Filled" 
                               StartIcon="@Icons.Filled.Cancel"
                               OnClick="ClearUploadList"
                               Color="Color.Error">Clear Selected</MudButton>
                </MudCardActions>
            }
        </MudStack>
    </MudCardContent>
</MudCard>



