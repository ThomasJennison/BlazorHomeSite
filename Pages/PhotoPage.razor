@page "/photo/{albumId}/{photoId}"

<MudContainer>
    <MudStack>

        <MudPaper Style="height: 4%; margin-top: 1%">
            <MudGrid Justify="Justify.Center">
                <MudItem xs="2">
                    <MudIconButton Color="@Color.Success" @onclick="LastPhoto" Icon="@Icons.Filled.NavigateBefore" />
                </MudItem>

                <MudItem xs="8">
                    <MudStack Row="true" Justify="Justify.Center" Style="margin-top: 10px">
                        @foreach (var photo in _lastPhotos)
                        {
                            if (photo.Value != null && photo.Value.ThumbnailPath != null)
                            {
                                <MudImage ObjectFit="ObjectFit.Contain"
                                  Fluid="false"
                                  Height="25"
                                  Width="25"
                                  Elevation="25" Class="rounded-sm"
                                  Src=@photo.Value.ThumbnailPath>
                                </MudImage>
                            }
                            else
                            {
                                <MudText>😔</MudText>
                            }
                        }

                        @if (CurrentPhoto != null && CurrentPhoto.ThumbnailPath != null)
                        {
                            <MudImage Height="30"
                                  Width="30"
                                  Src="@CurrentPhoto.ThumbnailPath" />
                        }
                        else
                        {
                            <MudProgressCircular />
                        }


                        @foreach (var photo in _nextPhotos)
                        {
                            if (photo.Value != null && photo.Value.ThumbnailPath != null)
                            {
                                <MudImage ObjectFit="ObjectFit.Contain"
                                  Fluid="false"
                                  Height="25"
                                  Width="25"
                                  Elevation="25" Class="rounded-sm"
                                  Src=@photo.Value.ThumbnailPath>
                                </MudImage>
                            }
                            else
                            {
                                <MudText>😔</MudText>
                            }
                        }
                    </MudStack>
                </MudItem>
                <MudItem xs="2">
                    <MudIconButton Color="Color.Success" @onclick="NextPhoto" Icon="@Icons.Filled.NavigateNext"></MudIconButton>
                </MudItem>
                <MudItem xs="12">
                    <MudButton OnClick="StartAutoPlay">Start Slide Show</MudButton>
                    <MudButton OnClick="StopAutoPlay">Stop Slide Show</MudButton>
                </MudItem>
            </MudGrid>

        </MudPaper>

     
        @*<MudPaper>
            <MudIconButton OnClick="DeletePhoto" Icon="@Icons.Filled.Delete">Delete Photo</MudIconButton>
        <MudPaper />*@

 
        @if(CurrentPhoto == null)
        {
            <MudProgressCircular/>
        }
        else
        {
            <MudStack Justify="Justify.Center">
                <MudImage Style="margin-top: 1% align-content:center; align-items: center"
                        ObjectPosition="ObjectPosition.Center"
                        Elevation="20"
                        
                        ObjectFit="ObjectFit.ScaleDown"
                        Src="@CurrentPhoto.PhotoPath"
                        Height="500">
                </MudImage>
            </MudStack>
        }

    </MudStack>

</MudContainer>