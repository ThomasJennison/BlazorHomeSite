@page "/photo/{albumId}/{photoId}"

<MudContainer>
    <MudStack>
    
        <MudPaper Elevation="40" Style="margin-top: 2%">
            <MudGrid Justify="Justify.Center">
                <MudItem xl="12">
                    <MudImage ObjectPosition="ObjectPosition.Center"
                              ObjectFit="ObjectFit.Contain"
                              Src="@CurrentPhoto.PhotoPath"
                              Height="400">
                </MudImage>
                </MudItem>
            </MudGrid>
  
        </MudPaper>
   <MudPaper Style="height: 45px; margin-top: -1%">
            <MudGrid Justify="Justify.Center" >
                <MudItem xs="2">
                    <MudIconButton Color="@Color.Success"
                                   @onclick="LastPhoto" Icon="@Icons.Filled.NavigateBefore">
                    </MudIconButton>
                </MudItem>

                <MudItem xs="8">
                    <MudStack Row="true" Justify="Justify.Center" Style="margin-top: 10px">
                        @foreach (var photo in LastPhotos)
                        {
                            <MudImage ObjectFit="ObjectFit.Contain"
                                      Fluid="false"
                                      Height="25"
                                      Width="25"
                                      Elevation="25" Class="rounded-sm"
                                      Src=@photo.Value.ThumbnailPath.Replace("wwwroot", "")>
                            </MudImage>
                        }
                        
                        <MudImage Height="30"
                                  Width="30"
                                  Src="@CurrentPhoto.ThumbnailPath.Replace("wwwroot", "")"/>
                        
                        @foreach (var photo in NextPhotos)
                        {
                            <MudImage ObjectFit="ObjectFit.Contain"
                                      Fluid="false"
                                      Height="25"
                                      Width="25"
                                      Elevation="25" Class="rounded-sm"
                                      Src=@photo.Value.ThumbnailPath.Replace("wwwroot", "")>
                            </MudImage>
                        }
                    </MudStack>
                </MudItem>
                <MudItem xs="2">
                    <MudIconButton Color="Color.Success" @onclick="NextPhoto" Icon="@Icons.Filled.NavigateNext"></MudIconButton>
                </MudItem>
            </MudGrid>


        </MudPaper>
        <MudPaper>
            <MudStack Justify="Justify.Center" >

                @if (EnableEdit())
                {
                    <MudStack Row="true" Justify="Justify.Center">
                        <MudIconButton OnClick="UpdatePhoto" Icon="@Icons.Filled.Update">Update Photo</MudIconButton>
                        <MudIconButton OnClick="DeletePhoto" Icon="@Icons.Filled.Delete">Delete Photo</MudIconButton>
                    </MudStack>
                }

                <MudStack Row="true">
                    <MudText Typo="Typo.caption">Description:</MudText>
                    <MudText Typo="Typo.caption">@CurrentPhoto.Description </MudText>

                    @if (EnableEdit())
                    {
                        <MudDivider Vertical="true"></MudDivider>
                        <MudInput @bind-Value="PhotoDescription"></MudInput>
                    }

                </MudStack>

                <MudDivider></MudDivider>
                <MudStack Row="true">
                    <MudText Typo="Typo.caption">Location:</MudText>
                    <MudText Typo="Typo.caption">@CurrentPhoto.Location </MudText>

                    @if (EnableEdit())
                    {
                        <MudDivider Vertical="true"></MudDivider>
                        <MudInput @bind-Value="PhotoLocation"></MudInput>
                    }

                </MudStack>
                <MudDivider></MudDivider>
                <MudStack Row="true">
                    <MudText Typo="Typo.caption">Date Captured:</MudText>
                    <MudText Typo="Typo.caption">@CurrentPhoto.CaptureTime</MudText>

                    @if (EnableEdit())
                    {
                        <MudDivider Vertical="true"></MudDivider>
                        <MudDatePicker Label="New Date"
                                       Editable="true"
                                       @bind-Date="photoCaptureDate"
                                       Placeholder="Select Date"/>
                    }

                </MudStack>

                @if (EnableEdit())
                {
                    <MudText Typo="Typo.caption">Is Album Cover</MudText>
                    <MudSwitch @bind-Checked="@IsAlbumCover"></MudSwitch>
                }


            </MudStack>
        </MudPaper>
        
    </MudStack>

</MudContainer>