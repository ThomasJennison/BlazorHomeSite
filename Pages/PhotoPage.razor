@page "/photo/{albumId}/{photoId}"

<MudContainer>
    <MudStack>
        @if (currentPhoto == null)
        {
            <MudProgressCircular />
        }
        else
        {
            <MudStack Justify="Justify.Center">
         
                <MudGrid Justify="Justify.Center">
                    <MudItem xs="1" >
                        <MudIconButton Style="align-content:center; vertical-align: middle" Color="@Color.Success" @onclick="LastPhoto" Icon="@Icons.Filled.NavigateBefore" />
                    </MudItem>
                    <MudItem xs="9">
                        <MudStack Justify="Justify.Center">
                            <MudImage Style="margin-top: 1% align-content:center; align-items: center"
                                  ObjectPosition="ObjectPosition.Center"
                                  Elevation="20"
                                  ObjectFit="ObjectFit.ScaleDown"
                                  Src="@currentPhoto.PhotoPath"
                                  Height="500">
                            </MudImage>
                        </MudStack>

                    </MudItem>
                    <MudItem xs="1">
                        <MudIconButton Color="Color.Success" @onclick="NextPhoto" Icon="@Icons.Filled.NavigateNext"></MudIconButton>
                    </MudItem>

                </MudGrid>

            </MudStack>

            <MudPaper Style="height: 4%; margin-top: 1%">
                <MudStack Row="true" Justify="Justify.Center" Style="margin-top: 10px">
                    @foreach (var photo in _lastPhotos)
                    {
                        if (photo.Value != null && photo.Value.ThumbnailPath != null)
                        {
                            <MudImage ObjectFit="ObjectFit.Contain"
                          Fluid="false"
                          Height="25"
                          Width="25"
                          Elevation="25" Class="rounded-sm"
                          Src=@photo.Value.ThumbnailPath>
                            </MudImage>
                        }
                        else
                        {
                            <MudText>😔</MudText>
                        }
                    }

                    @if (currentPhoto != null && currentPhoto.ThumbnailPath != null)
                    {
                        <MudImage Height="30"
                          Width="30"
                          Src="@currentPhoto.ThumbnailPath" />
                    }
                    else
                    {
                        <MudProgressCircular />
                    }


                    @foreach (var photo in _nextPhotos)
                    {
                        if (photo.Value != null && photo.Value.ThumbnailPath != null)
                        {
                            <MudImage ObjectFit="ObjectFit.Contain"
                          Fluid="false"
                          Height="25"
                          Width="25"
                          Elevation="25" Class="rounded-sm"
                          Src=@photo.Value.ThumbnailPath>
                            </MudImage>
                        }
                        else
                        {
                            <MudText>😔</MudText>
                        }
                    }
                </MudStack>
            </MudPaper>


            @if (slideShowOn)
            {
                <MudButton EndIcon="@Icons.Filled.StopCircle" OnClick="StopAutoPlay">Stop Slide Show</MudButton>
            }
            else
            {
                <MudStack Row=true>
                    <MudButton EndIcon="@Icons.Filled.PlayCircle" OnClick="StartAutoPlay">Start Slide Show</MudButton>

                    <MudNumericField @bind-Value="SlideShowTimeSeconds" Label="Time Per Photo (Seconds)" Step="0.25" />

                </MudStack>
            }

        }

    </MudStack>

</MudContainer>